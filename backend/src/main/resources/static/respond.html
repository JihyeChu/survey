<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>설문 응답</title>
    <link rel="stylesheet" href="css/styles.css?v=33">
    <link rel="stylesheet" href="css/respond.css?v=35">
</head>
<body>
    <div class="respond-container">
        <!-- Header -->
        <header class="respond-header">
            <div class="respond-header-content">
                <div class="respond-logo">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                </div>
            </div>
        </header>

        <!-- Error Banner -->
        <div id="error-banner" class="error-banner" style="display: none;">
            <div class="error-banner-content">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="error-banner-icon">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                </svg>
                <span id="error-message" class="error-banner-text"></span>
                <button id="error-close-btn" class="error-close-btn" aria-label="닫기">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <main class="respond-main">
            <!-- Success Screen -->
            <div id="success-screen" class="submit-success-screen" style="display: none;">
                <div class="success-content">
                    <div class="success-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                        </svg>
                    </div>
                    <h1 id="success-title" class="success-title">응답이 제출되었습니다</h1>
                    <p id="success-message" class="success-message">감사합니다. 귀하의 응답이 기록되었습니다.</p>
                    <div id="success-actions" class="success-actions" style="margin-top: 20px;"></div>
                </div>
            </div>

            <!-- Form Container -->
            <div id="form-container" class="respond-form-container">
                <!-- Form Header -->
                <div id="form-header" class="respond-form-header">
                    <h1 id="form-title" class="respond-form-title"></h1>
                    <p id="form-description" class="respond-form-description"></p>
                </div>

                <!-- Progress Bar -->
                <div id="progress-bar" class="respond-progress-bar">
                    <div id="progress-fill" class="respond-progress-fill"></div>
                </div>

                <!-- Questions Container -->
                <form id="respond-form" class="respond-form">
                    <!-- Email Collection Field -->
                    <div id="email-field-container" class="respond-email-container" style="display: none;">
                        <div class="respond-email-field">
                            <label for="respondent-email" class="respond-email-label">
                                이메일 주소
                                <span class="respond-question-required">*</span>
                            </label>
                            <input
                                type="email"
                                id="respondent-email"
                                class="respond-email-input"
                                placeholder="이메일 주소를 입력하세요"
                                required
                            />
                        </div>
                    </div>

                    <div id="questions-container" class="respond-questions-container">
                        <!-- Questions will be rendered here -->
                    </div>

                    <!-- Form Actions -->
                    <div class="respond-form-actions">
                        <button type="button" id="submit-btn" class="respond-submit-btn" disabled>
                            <span id="submit-btn-text">제출</span>
                        </button>
                    </div>
                </form>
            </div>
        </main>

        <!-- Loading Indicator -->
        <div id="loading-indicator" class="loading-indicator" style="display: none;">
            <div class="loading-spinner"></div>
            <span>폼을 불러오는 중...</span>
        </div>
    </div>

    <script src="js/api.js?v=34"></script>
    <script src="js/respond.js?v=41"></script>
</body>
</html>
